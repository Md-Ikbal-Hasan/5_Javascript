<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API</title>
</head>

<body>

    <h2>Fetch API</h2>

    <script>

        // fetch("https://jsonplaceholder.typicode.com/posts/100")
        // .then((res)=>{
        //     if(!res.ok){
        //         const message = `Error: ${res.status}`
        //         throw new Error(message);
        //     }
        //     return res.json();

        // })
        // .then((res)=> console.log(res) )
        // .catch((err)=> console.log(err) );


        const makeRequest = async (url, config) => {
            const res = await fetch(url, config);
            if (!res.ok) {
                const message = `Error: ${res.status}`;
                throw new Error(message);
            }
            const data = await res.json();
            return data;

        };


        const getData = () => {
            makeRequest("https://jsonplaceholder.typicode.com/posts")
                .then((res) => console.log(res))
                .catch((err) => console.log(err))

        }
        // getData()



        const sendData = () => {
            makeRequest("https://jsonplaceholder.typicode.com/posts", {
                method: 'POST',
                body: JSON.stringify({
                    title: 'foo',
                    body: 'bar',
                    userId: 1,
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((res) => console.log(res))
                .catch((err) => console.log(err))

        }
        // sendData();



        const updateData = () => {
            makeRequest("https://jsonplaceholder.typicode.com/posts/1", {
                method: 'PUT',
                body: JSON.stringify({
                    id : 1,
                    title: 'foo booo',
                    body: 'bar',
                    userId: 1,
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((res) => console.log(res))
                .catch((err) => console.log(err))

        }
        // updateData();



        const partialUpdateData = () => {
            makeRequest("https://jsonplaceholder.typicode.com/posts/1", {
                method: 'PATCH',
                body: JSON.stringify({
                  
                    title: 'foo booo sdhfkjd',
                   
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((res) => console.log(res))
                .catch((err) => console.log(err))

        }
        // partialUpdateData();


        const deleteData = () => {
            makeRequest("https://jsonplaceholder.typicode.com/posts/1", {
                method: 'DELETE',
               
            })
                .then((res) => console.log(res))
                .catch((err) => console.log(err))

        }
        deleteData();






    </script>

</body>

</html>